(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{FTmn:function(t,e,i){"use strict";function n(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}i.d(e,"a",function(){return n})},GHWt:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i("gj+k"),i("mrVq"),i("WHjf");var n=i("CiDq");function a(t,e,i=n.a){if(a=t.length){if((e=+e)<=0||a<2)return+i(t[0],0,t);if(e>=1)return+i(t[a-1],a-1,t);var a,r=(a-1)*e,o=Math.floor(r),s=+i(t[o],o,t);return s+(+i(t[o+1],o+1,t)-s)*(r-o)}}},WHjf:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i("APuy");function a(t,e,i=0,o=t.length-1,s=n.a){for(;o>i;){if(o-i>600){const n=o-i+1,r=e-i+1,l=Math.log(n),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(n-c)/n)*(r-n/2<0?-1:1);a(t,e,Math.max(i,Math.floor(e-r*c/n+d)),Math.min(o,Math.floor(e+(n-r)*c/n+d)),s)}const n=t[e];let l=i,c=o;for(r(t,i,e),s(t[o],n)>0&&r(t,i,o);l<c;){for(r(t,l,c),++l,--c;s(t[l],n)<0;)++l;for(;s(t[c],n)>0;)--c}0===s(t[i],n)?r(t,i,c):(++c,r(t,c,o)),c<=e&&(i=c+1),e<=c&&(o=c-1)}return t}function r(t,e,i){const n=t[e];t[e]=t[i],t[i]=n}},Wm2z:function(t,e,i){"use strict";i.r(e),i.d(e,"ProjectsModule",function(){return hi});var n=i("ofXK"),a=i("PCNd"),r=i("tyNb"),o=i("Ankt"),s=i("fXoL"),l=i("3FDT");let c=(()=>{class t{constructor(t){this.service=t}resolve(t,e){return this.service.getBeyondData()}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(l.a))},t.\u0275prov=s.Ab({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=i("VphZ");const u=[{value:"2012",name:"2012",title:"2012"},{value:"2016",name:"2016",title:"2016"},{value:"change",name:"Change",title:"Change in Margin, 2012 - 2016"}],h=[{value:"president",name:"President",title:"US Presidential Election Results by Census Tract"},{value:"senate",name:"US Senate",title:"US Senate Election Results by Census Tract"},{value:"house",name:"US House",title:"US House of Representatives Election Results by Census Tract"}],p=[{value:"current",name:"2015",title:"2015"},{value:"change",name:"Change 2010-2015",title:"Change, 2010 - 2015"}],f=[{value:"populationDensity",name:"Population Density",title:"Population Density of Each Census Tract",yAxis:"population density",xAxis:"population/sq mi"},{value:"nonWhite",name:"Percent Non-White",title:"Percent Non-White Population for Each Census Tract",yAxis:"percent non-white",xAxis:"% of total population"},{value:"unemployment",name:"Percent Unemployed",title:"Percent of Population Unemployed for Each Census Tract",yAxis:"percent unemployed",xAxis:"% of total population"},{value:"college",name:"Education",title:"Percent of Population with College Degree for Each Census Tract",yAxis:"college degree",xAxis:"% of total population"},{value:"income",name:"Income",title:"Income",yAxis:"median income",xAxis:"household income"}],b={vote:{r:Object(d.m)().domain([0,1]).range(["#f8e5e6","#dd0035"]),d:Object(d.m)().domain([-1,0]).range(["#3c5bff","#d2e4ff"])},change:{r:Object(d.m)().domain([0,.5]).range(["#f8e5e6","#dd0035"]),d:Object(d.m)().domain([-.5,0]).range(["#3c5bff","#e6f0ff"])}};var g=i("TXIv"),m=1e-6,y=Math.PI,v=y/2,x=y/4,w=2*y,k=180/y,S=y/180,j=Math.abs,O=Math.atan,M=Math.atan2,C=Math.cos,V=(Math,Math,Math,Math,Math,Math,Math.sin),A=Math.sign||function(t){return t>0?1:t<0?-1:0},D=Math.sqrt;function E(t){return t>1?v:t<-1?-v:Math.asin(t)}function P(){}Math;var T=function(){var t,e=[];return{point:function(e,i,n){t.push([e,i,n])},lineStart:function(){e.push(t=[])},lineEnd:P,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}},F=function(t,e){return j(t[0]-e[0])<m&&j(t[1]-e[1])<m};function _(t,e,i,n){this.x=t,this.z=e,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}var B=function(t,e,i,n,a){var r,o,s=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,i,n=t[0],o=t[e];if(F(n,o)){if(!n[2]&&!o[2]){for(a.lineStart(),r=0;r<e;++r)a.point((n=t[r])[0],n[1]);return void a.lineEnd()}o[0]+=2e-6}s.push(i=new _(n,t,null,!0)),l.push(i.o=new _(n,null,i,!1)),s.push(i=new _(o,t,null,!1)),l.push(i.o=new _(o,null,i,!0))}}),s.length){for(l.sort(e),R(s),R(l),r=0,o=l.length;r<o;++r)l[r].e=i=!i;for(var c,d,u=s[0];;){for(var h=u,p=!0;h.v;)if((h=h.n)===u)return;c=h.z,a.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(r=0,o=c.length;r<o;++r)a.point((d=c[r])[0],d[1]);else n(h.x,h.n.x,1,a);h=h.n}else{if(p)for(r=(c=h.p.z).length-1;r>=0;--r)a.point((d=c[r])[0],d[1]);else n(h.x,h.p.x,-1,a);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);a.lineEnd()}}};function R(t){if(e=t.length){for(var e,i,n=0,a=t[0];++n<e;)a.n=i=t[n],i.p=a,a=i;a.n=i=t[0],i.p=a}}var I=i("xOP2");function K(t){return[M(t[1],t[0]),E(t[2])]}function J(t){var e=t[0],i=t[1],n=C(i);return[n*C(e),n*V(e),V(i)]}function Y(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function z(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function q(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function N(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function U(t){var e=D(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function L(t){return j(t[0])<=y?t[0]:A(t[0])*((j(t[0])+y)%w-y)}var $=i("FTmn"),W=function(t,e,i,n){return function(a){var r,o,s,l=e(a),c=T(),d=e(c),u=!1,h={point:p,lineStart:b,lineEnd:g,polygonStart:function(){h.point=k,h.lineStart=S,h.lineEnd=j,o=[],r=[]},polygonEnd:function(){h.point=p,h.lineStart=b,h.lineEnd=g,o=Object($.a)(o);var t=function(t,e){var i=L(e),n=e[1],a=V(n),r=[V(i),-C(i),0],o=0,s=0,l=new I.a;1===a?n=v+m:-1===a&&(n=-v-m);for(var c=0,d=t.length;c<d;++c)if(h=(u=t[c]).length)for(var u,h,p=u[h-1],f=L(p),b=p[1]/2+x,g=V(b),k=C(b),S=0;S<h;++S,f=O,g=D,k=P,p=j){var j=u[S],O=L(j),A=j[1]/2+x,D=V(A),P=C(A),T=O-f,F=T>=0?1:-1,_=F*T,B=_>y,R=g*D;if(l.add(M(R*F*V(_),k*P+R*C(_))),o+=B?T+F*w:T,B^f>=i^O>=i){var K=z(J(p),J(j));U(K);var Y=z(r,K);U(Y);var q=(B^T>=0?-1:1)*E(Y[2]);(n>q||n===q&&(K[0]||K[1]))&&(s+=B^T>=0?1:-1)}}return(o<-m||o<m&&l<-1e-12)^1&s}(r,n);o.length?(u||(a.polygonStart(),u=!0),B(o,H,t,i,a)):t&&(u||(a.polygonStart(),u=!0),a.lineStart(),i(null,null,1,a),a.lineEnd()),u&&(a.polygonEnd(),u=!1),o=r=null},sphere:function(){a.polygonStart(),a.lineStart(),i(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function p(e,i){t(e,i)&&a.point(e,i)}function f(t,e){l.point(t,e)}function b(){h.point=f,l.lineStart()}function g(){h.point=p,l.lineEnd()}function k(t,e){s.push([t,e]),d.point(t,e)}function S(){d.lineStart(),s=[]}function j(){k(s[0][0],s[0][1]),d.lineEnd();var t,e,i,n,l=d.clean(),h=c.result(),p=h.length;if(s.pop(),r.push(s),s=null,p)if(1&l){if((e=(i=h[0]).length-1)>0){for(u||(a.polygonStart(),u=!0),a.lineStart(),t=0;t<e;++t)a.point((n=i[t])[0],n[1]);a.lineEnd()}}else p>1&&2&l&&h.push(h.pop().concat(h.shift())),o.push(h.filter(G))}return h}};function G(t){return t.length>1}function H(t,e){return((t=t.x)[0]<0?t[1]-v-m:v-t[1])-((e=e.x)[0]<0?e[1]-v-m:v-e[1])}var X=W(function(){return!0},function(t){var e,i=NaN,n=NaN,a=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(r,o){var s=r>0?y:-y,l=j(r-i);j(l-y)<m?(t.point(i,n=(n+o)/2>0?v:-v),t.point(a,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(r,n),e=0):a!==s&&l>=y&&(j(i-a)<m&&(i-=a*m),j(r-s)<m&&(r-=s*m),n=function(t,e,i,n){var a,r,o=V(t-i);return j(o)>m?O((V(e)*(r=C(n))*V(i)-V(n)*(a=C(e))*V(t))/(a*r*o)):(e+n)/2}(i,n,r,o),t.point(a,n),t.lineEnd(),t.lineStart(),t.point(s,n),e=0),t.point(i=r,n=o),a=s},lineEnd:function(){t.lineEnd(),i=n=NaN},clean:function(){return 2-e}}},function(t,e,i,n){var a;if(null==t)n.point(-y,a=i*v),n.point(0,a),n.point(y,a),n.point(y,0),n.point(y,-a),n.point(0,-a),n.point(-y,-a),n.point(-y,0),n.point(-y,a);else if(j(t[0]-e[0])>m){var r=t[0]<e[0]?y:-y;n.point(-r,a=i*r/2),n.point(0,a),n.point(r,a)}else n.point(e[0],e[1])},[-y,-v]),Z=function(t,e){function i(i,n){return i=t(i,n),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,n){return(i=e.invert(i,n))&&t.invert(i[0],i[1])}),i};function Q(t,e){return[j(t)>y?t+Math.round(-t/w)*w:t,e]}function tt(t){return function(e,i){return[(e+=t)>y?e-w:e<-y?e+w:e,i]}}function et(t){var e=tt(t);return e.invert=tt(-t),e}function it(t,e){var i=C(t),n=V(t),a=C(e),r=V(e);function o(t,e){var o=C(e),s=C(t)*o,l=V(t)*o,c=V(e),d=c*i+s*n;return[M(l*a-d*r,s*i-c*n),E(d*a+l*r)]}return o.invert=function(t,e){var o=C(e),s=C(t)*o,l=V(t)*o,c=V(e),d=c*a-l*r;return[M(l*a+c*r,s*i+d*n),E(d*i-s*n)]},o}function nt(t,e){(e=J(e))[0]-=t,U(e);var i,n=(i=-e[1])>1?0:i<-1?y:Math.acos(i);return((-e[2]<0?-n:n)+w-m)%w}Q.invert=Q;var at=function(t){var e=C(t),i=6*S,n=e>0,a=j(e)>m;function r(t,i){return C(t)*C(i)>e}function o(t,i,n){var a=[1,0,0],r=z(J(t),J(i)),o=Y(r,r),s=r[0],l=o-s*s;if(!l)return!n&&t;var c=e*o/l,d=-e*s/l,u=z(a,r),h=N(a,c);q(h,N(r,d));var p=u,f=Y(h,p),b=Y(p,p),g=f*f-b*(Y(h,h)-1);if(!(g<0)){var v=D(g),x=N(p,(-f-v)/b);if(q(x,h),x=K(x),!n)return x;var w,k=t[0],S=i[0],O=t[1],M=i[1];S<k&&(w=k,k=S,S=w);var C=S-k,V=j(C-y)<m;if(!V&&M<O&&(w=O,O=M,M=w),V||C<m?V?O+M>0^x[1]<(j(x[0]-k)<m?O:M):O<=x[1]&&x[1]<=M:C>y^(k<=x[0]&&x[0]<=S)){var A=N(p,(-f+v)/b);return q(A,h),[x,K(A)]}}}function s(e,i){var a=n?t:y-t,r=0;return e<-a?r|=1:e>a&&(r|=2),i<-a?r|=4:i>a&&(r|=8),r}return W(r,function(t){var e,i,l,c,d;return{lineStart:function(){c=l=!1,d=1},point:function(u,h){var p,f=[u,h],b=r(u,h),g=n?b?0:s(u,h):b?s(u+(u<0?y:-y),h):0;if(!e&&(c=l=b)&&t.lineStart(),b!==l&&(!(p=o(e,f))||F(e,p)||F(f,p))&&(f[2]=1),b!==l)d=0,b?(t.lineStart(),p=o(f,e),t.point(p[0],p[1])):(p=o(e,f),t.point(p[0],p[1],2),t.lineEnd()),e=p;else if(a&&e&&n^b){var m;g&i||!(m=o(f,e,!0))||(d=0,n?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!b||e&&F(e,f)||t.point(f[0],f[1]),e=f,l=b,i=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return d|(c&&l)<<1}}},function(e,n,a,r){!function(t,e,i,n,a,r){if(i){var o=C(e),s=V(e),l=n*i;null==a?(a=e+n*w,r=e-l/2):(a=nt(o,a),r=nt(o,r),(n>0?a<r:a>r)&&(a+=n*w));for(var c,d=a;n>0?d>r:d<r;d-=l)c=K([o,-s*C(d),-s*V(d)]),t.point(c[0],c[1])}}(r,t,i,a,e,n)},n?[0,-t]:[-y,t-y])};function rt(t,e,i,n){function a(a,r){return t<=a&&a<=i&&e<=r&&r<=n}function r(a,r,s,c){var d=0,u=0;if(null==a||(d=o(a,s))!==(u=o(r,s))||l(a,r)<0^s>0)do{c.point(0===d||3===d?t:i,d>1?n:e)}while((d=(d+s+4)%4)!==u);else c.point(r[0],r[1])}function o(n,a){return j(n[0]-t)<m?a>0?0:3:j(n[0]-i)<m?a>0?2:1:j(n[1]-e)<m?a>0?1:0:a>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var i=o(t,1),n=o(e,1);return i!==n?i-n:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}return function(o){var l,c,d,u,h,p,f,b,g,m,y,v=o,x=T(),w={point:k,lineStart:function(){w.point=S,c&&c.push(d=[]),m=!0,g=!1,f=b=NaN},lineEnd:function(){l&&(S(u,h),p&&g&&x.rejoin(),l.push(x.result())),w.point=k,g&&v.lineEnd()},polygonStart:function(){v=x,l=[],c=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,i=0,a=c.length;i<a;++i)for(var r,o,s=c[i],l=1,d=s.length,u=s[0],h=u[0],p=u[1];l<d;++l)r=h,o=p,h=(u=s[l])[0],p=u[1],o<=n?p>n&&(h-r)*(n-o)>(p-o)*(t-r)&&++e:p<=n&&(h-r)*(n-o)<(p-o)*(t-r)&&--e;return e}(),i=y&&e,a=(l=Object($.a)(l)).length;(i||a)&&(o.polygonStart(),i&&(o.lineStart(),r(null,null,1,o),o.lineEnd()),a&&B(l,s,e,r,o),o.polygonEnd()),v=o,l=c=d=null}};function k(t,e){a(t,e)&&v.point(t,e)}function S(r,o){var s=a(r,o);if(c&&d.push([r,o]),m)u=r,h=o,p=s,m=!1,s&&(v.lineStart(),v.point(r,o));else if(s&&g)v.point(r,o);else{var l=[f=Math.max(-1e9,Math.min(1e9,f)),b=Math.max(-1e9,Math.min(1e9,b))],x=[r=Math.max(-1e9,Math.min(1e9,r)),o=Math.max(-1e9,Math.min(1e9,o))];!function(t,e,i,n,a,r){var o,s=t[0],l=t[1],c=0,d=1,u=e[0]-s,h=e[1]-l;if(o=i-s,u||!(o>0)){if(o/=u,u<0){if(o<c)return;o<d&&(d=o)}else if(u>0){if(o>d)return;o>c&&(c=o)}if(o=a-s,u||!(o<0)){if(o/=u,u<0){if(o>d)return;o>c&&(c=o)}else if(u>0){if(o<c)return;o<d&&(d=o)}if(o=n-l,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>c&&(c=o)}if(o=r-l,h||!(o<0)){if(o/=h,h<0){if(o>d)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<d&&(d=o)}return c>0&&(t[0]=s+c*u,t[1]=l+c*h),d<1&&(e[0]=s+d*u,e[1]=l+d*h),!0}}}}}(l,x,t,e,i,n)?s&&(v.lineStart(),v.point(r,o),y=!1):(g||(v.lineStart(),v.point(l[0],l[1])),v.point(x[0],x[1]),s||v.lineEnd(),y=!1)}f=r,b=o,g=s}return w}}var ot=t=>t;function st(t){return function(e){var i=new lt;for(var n in t)i[n]=t[n];return i.stream=e,i}}function lt(){}function ct(t,e){t&&ut.hasOwnProperty(t.type)&&ut[t.type](t,e)}lt.prototype={constructor:lt,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var dt={Feature:function(t,e){ct(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,a=i.length;++n<a;)ct(i[n].geometry,e)}},ut={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,a=i.length;++n<a;)e.point((t=i[n])[0],t[1],t[2])},LineString:function(t,e){ht(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,a=i.length;++n<a;)ht(i[n],e,0)},Polygon:function(t,e){pt(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,a=i.length;++n<a;)pt(i[n],e)},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,a=i.length;++n<a;)ct(i[n],e)}};function ht(t,e,i){var n,a=-1,r=t.length-i;for(e.lineStart();++a<r;)e.point((n=t[a])[0],n[1],n[2]);e.lineEnd()}function pt(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)ht(t[i],e,1);e.polygonEnd()}var ft=function(t,e){t&&dt.hasOwnProperty(t.type)?dt[t.type](t,e):ct(t,e)},bt=1/0,gt=bt,mt=-bt,yt=mt,vt={point:function(t,e){t<bt&&(bt=t),t>mt&&(mt=t),e<gt&&(gt=e),e>yt&&(yt=e)},lineStart:P,lineEnd:P,polygonStart:P,polygonEnd:P,result:function(){var t=[[bt,gt],[mt,yt]];return mt=yt=-(gt=bt=1/0),t}};function xt(t,e,i){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=n&&t.clipExtent(null),ft(i,t.stream(vt)),e(vt.result()),null!=n&&t.clipExtent(n),t}function wt(t,e,i){return xt(t,function(i){var n=e[1][0]-e[0][0],a=e[1][1]-e[0][1],r=Math.min(n/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),o=+e[0][0]+(n-r*(i[1][0]+i[0][0]))/2,s=+e[0][1]+(a-r*(i[1][1]+i[0][1]))/2;t.scale(150*r).translate([o,s])},i)}var kt=C(30*S),St=function(t,e){return+e?function(t,e){function i(n,a,r,o,s,l,c,d,u,h,p,f,b,g){var y=c-n,v=d-a,x=y*y+v*v;if(x>4*e&&b--){var w=o+h,k=s+p,S=l+f,O=D(w*w+k*k+S*S),C=E(S/=O),V=j(j(S)-1)<m||j(r-u)<m?(r+u)/2:M(k,w),A=t(V,C),P=A[0],T=A[1],F=P-n,_=T-a,B=v*F-y*_;(B*B/x>e||j((y*F+v*_)/x-.5)>.3||o*h+s*p+l*f<kt)&&(i(n,a,r,o,s,l,P,T,V,w/=O,k/=O,S,b,g),g.point(P,T),i(P,T,V,w,k,S,c,d,u,h,p,f,b,g))}}return function(e){var n,a,r,o,s,l,c,d,u,h,p,f,b={point:g,lineStart:m,lineEnd:v,polygonStart:function(){e.polygonStart(),b.lineStart=x},polygonEnd:function(){e.polygonEnd(),b.lineStart=m}};function g(i,n){i=t(i,n),e.point(i[0],i[1])}function m(){d=NaN,b.point=y,e.lineStart()}function y(n,a){var r=J([n,a]),o=t(n,a);i(d,u,c,h,p,f,d=o[0],u=o[1],c=n,h=r[0],p=r[1],f=r[2],16,e),e.point(d,u)}function v(){b.point=g,e.lineEnd()}function x(){m(),b.point=w,b.lineEnd=k}function w(t,e){y(n=t,e),a=d,r=u,o=h,s=p,l=f,b.point=y}function k(){i(d,u,c,h,p,f,a,r,n,o,s,l,16,e),b.lineEnd=v,v()}return b}}(t,e):function(t){return st({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}(t)},jt=st({point:function(t,e){this.stream.point(t*S,e*S)}});function Ot(t,e,i,n,a,r){if(!r)return function(t,e,i,n,a){function r(r,o){return[e+t*(r*=n),i-t*(o*=a)]}return r.invert=function(r,o){return[(r-e)/t*n,(i-o)/t*a]},r}(t,e,i,n,a);var o=C(r),s=V(r),l=o*t,c=s*t,d=o/t,u=s/t,h=(s*i-o*e)/t,p=(s*e+o*i)/t;function f(t,r){return[l*(t*=n)-c*(r*=a)+e,i-c*t-l*r]}return f.invert=function(t,e){return[n*(d*t-u*e+h),a*(p-u*t-d*e)]},f}function Mt(t,e){var i=V(t),n=(i+V(e))/2;if(j(n)<m)return function(t){var e=C(t);function i(t,i){return[t*e,V(i)/e]}return i.invert=function(t,i){return[t/e,E(i*e)]},i}(t);var a=1+i*(2*n-i),r=D(a)/n;function o(t,e){var i=D(a-2*n*V(e))/n;return[i*V(t*=n),r-i*C(t)]}return o.invert=function(t,e){var i=r-e,o=M(t,j(i))*A(i);return i*n<0&&(o-=y*A(t)*A(i)),[o/n,E((a-(t*t+i*i)*n*n)/(2*n))]},o}var Ct,Vt,At,Dt,Et=function(){return(t=Mt,e=0,i=y/3,n=function(t){var e,i,n,a,r,o,s,l,c,d,u=150,h=480,p=250,f=0,b=0,g=0,m=0,y=0,v=0,x=1,j=1,O=null,M=X,C=null,V=ot,A=.5;function E(t){return l(t[0]*S,t[1]*S)}function P(t){return(t=l.invert(t[0],t[1]))&&[t[0]*k,t[1]*k]}function T(){var t=Ot(u,0,0,x,j,v).apply(null,e(f,b)),n=Ot(u,h-t[0],p-t[1],x,j,v);return i=function(t,e,i){return(t%=w)?e||i?Z(et(t),it(e,i)):et(t):e||i?it(e,i):Q}(g,m,y),s=Z(e,n),l=Z(i,s),o=St(s,A),F()}function F(){return c=d=null,E}return E.stream=function(t){return c&&d===t?c:c=jt(function(t){return st({point:function(e,i){var n=t(e,i);return this.stream.point(n[0],n[1])}})}(i)(M(o(V(d=t)))))},E.preclip=function(t){return arguments.length?(M=t,O=void 0,F()):M},E.postclip=function(t){return arguments.length?(V=t,C=n=a=r=null,F()):V},E.clipAngle=function(t){return arguments.length?(M=+t?at(O=t*S):(O=null,X),F()):O*k},E.clipExtent=function(t){return arguments.length?(V=null==t?(C=n=a=r=null,ot):rt(C=+t[0][0],n=+t[0][1],a=+t[1][0],r=+t[1][1]),F()):null==C?null:[[C,n],[a,r]]},E.scale=function(t){return arguments.length?(u=+t,T()):u},E.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],T()):[h,p]},E.center=function(t){return arguments.length?(f=t[0]%360*S,b=t[1]%360*S,T()):[f*k,b*k]},E.rotate=function(t){return arguments.length?(g=t[0]%360*S,m=t[1]%360*S,y=t.length>2?t[2]%360*S:0,T()):[g*k,m*k,y*k]},E.angle=function(t){return arguments.length?(v=t%360*S,T()):v*k},E.reflectX=function(t){return arguments.length?(x=t?-1:1,T()):x<0},E.reflectY=function(t){return arguments.length?(j=t?-1:1,T()):j<0},E.precision=function(t){return arguments.length?(o=St(s,A=t*t),F()):D(A)},E.fitExtent=function(t,e){return wt(E,t,e)},E.fitSize=function(t,e){return function(t,e,i){return wt(t,[[0,0],e],i)}(E,t,e)},E.fitWidth=function(t,e){return function(t,e,i){return xt(t,function(i){var n=+e,a=n/(i[1][0]-i[0][0]),r=(n-a*(i[1][0]+i[0][0]))/2,o=-a*i[0][1];t.scale(150*a).translate([r,o])},i)}(E,t,e)},E.fitHeight=function(t,e){return function(t,e,i){return xt(t,function(i){var n=+e,a=n/(i[1][1]-i[0][1]),r=-a*i[0][0],o=(n-a*(i[1][1]+i[0][1]))/2;t.scale(150*a).translate([r,o])},i)}(E,t,e)},function(){return e=t.apply(this,arguments),E.invert=e.invert&&P,T()}}(t),a=n(e,i),a.parallels=function(t){return arguments.length?n(e=t[0]*S,i=t[1]*S):[e*k,i*k]},a).scale(155.424).center([0,33.6442]).parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7]);var t,e,i,n,a},Pt=new I.a,Tt=new I.a,Ft={point:P,lineStart:P,lineEnd:P,polygonStart:function(){Ft.lineStart=_t,Ft.lineEnd=It},polygonEnd:function(){Ft.lineStart=Ft.lineEnd=Ft.point=P,Pt.add(j(Tt)),Tt=new I.a},result:function(){var t=Pt/2;return Pt=new I.a,t}};function _t(){Ft.point=Bt}function Bt(t,e){Ft.point=Rt,Ct=At=t,Vt=Dt=e}function Rt(t,e){Tt.add(Dt*t-At*e),At=t,Dt=e}function It(){Rt(Ct,Vt)}var Kt,Jt,Yt,zt,qt=Ft,Nt=0,Ut=0,Lt=0,$t=0,Wt=0,Gt=0,Ht=0,Xt=0,Zt=0,Qt={point:te,lineStart:ee,lineEnd:ae,polygonStart:function(){Qt.lineStart=re,Qt.lineEnd=oe},polygonEnd:function(){Qt.point=te,Qt.lineStart=ee,Qt.lineEnd=ae},result:function(){var t=Zt?[Ht/Zt,Xt/Zt]:Gt?[$t/Gt,Wt/Gt]:Lt?[Nt/Lt,Ut/Lt]:[NaN,NaN];return Nt=Ut=Lt=$t=Wt=Gt=Ht=Xt=Zt=0,t}};function te(t,e){Nt+=t,Ut+=e,++Lt}function ee(){Qt.point=ie}function ie(t,e){Qt.point=ne,te(Yt=t,zt=e)}function ne(t,e){var i=t-Yt,n=e-zt,a=D(i*i+n*n);$t+=a*(Yt+t)/2,Wt+=a*(zt+e)/2,Gt+=a,te(Yt=t,zt=e)}function ae(){Qt.point=te}function re(){Qt.point=se}function oe(){le(Kt,Jt)}function se(t,e){Qt.point=le,te(Kt=Yt=t,Jt=zt=e)}function le(t,e){var i=t-Yt,n=e-zt,a=D(i*i+n*n);$t+=a*(Yt+t)/2,Wt+=a*(zt+e)/2,Gt+=a,Ht+=(a=zt*t-Yt*e)*(Yt+t),Xt+=a*(zt+e),Zt+=3*a,te(Yt=t,zt=e)}var ce=Qt;function de(t){this._context=t}de.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,w)}},result:P};var ue,he,pe,fe,be,ge=new I.a,me={point:P,lineStart:function(){me.point=ye},lineEnd:function(){ue&&ve(he,pe),me.point=P},polygonStart:function(){ue=!0},polygonEnd:function(){ue=null},result:function(){var t=+ge;return ge=new I.a,t}};function ye(t,e){me.point=ve,he=fe=t,pe=be=e}function ve(t,e){ge.add(D((fe-=t)*fe+(be-=e)*be)),fe=t,be=e}var xe=me;function we(){this._string=[]}function ke(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}we.prototype={_radius:4.5,_circle:ke(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=ke(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Se=function(t,e){var i,n,a=4.5;function r(t){return t&&("function"==typeof a&&n.pointRadius(+a.apply(this,arguments)),ft(t,i(n))),n.result()}return r.area=function(t){return ft(t,i(qt)),qt.result()},r.measure=function(t){return ft(t,i(xe)),xe.result()},r.bounds=function(t){return ft(t,i(vt)),vt.result()},r.centroid=function(t){return ft(t,i(ce)),ce.result()},r.projection=function(e){return arguments.length?(i=null==e?(t=null,ot):(t=e).stream,r):t},r.context=function(t){return arguments.length?(n=null==t?(e=null,new we):new de(e=t),"function"!=typeof a&&n.pointRadius(a),r):e},r.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(n.pointRadius(+t),+t),r):a},r.projection(t).context(e)},je=i("AKWm"),Oe=i("2TRZ"),Me=i("XNiG"),Ce=function(t){return t},Ve=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return Ae(t,e)})}:Ae(t,e)};function Ae(t,e){var i=e.id,n=e.bbox,a=null==e.properties?{}:e.properties,r=function(t,e){var i=function(t){if(null==t)return Ce;var e,i,n=t.scale[0],a=t.scale[1],r=t.translate[0],o=t.translate[1];return function(t,s){s||(e=i=0);var l=2,c=t.length,d=new Array(c);for(d[0]=(e+=t[0])*n+r,d[1]=(i+=t[1])*a+o;l<c;)d[l]=t[l],++l;return d}}(t.transform),n=t.arcs;function a(t,e){e.length&&e.pop();for(var a=n[t<0?~t:t],r=0,o=a.length;r<o;++r)e.push(i(a[r],r));t<0&&function(t,e){for(var i,n=t.length,a=n-e;a<--n;)i=t[a],t[a++]=t[n],t[n]=i}(e,o)}function r(t){return i(t)}function o(t){for(var e=[],i=0,n=t.length;i<n;++i)a(t[i],e);return e.length<2&&e.push(e[0]),e}function s(t){for(var e=o(t);e.length<4;)e.push(e[0]);return e}function l(t){return t.map(s)}return function t(e){var i,n=e.type;switch(n){case"GeometryCollection":return{type:n,geometries:e.geometries.map(t)};case"Point":i=r(e.coordinates);break;case"MultiPoint":i=e.coordinates.map(r);break;case"LineString":i=o(e.arcs);break;case"MultiLineString":i=e.arcs.map(o);break;case"Polygon":i=l(e.arcs);break;case"MultiPolygon":i=e.arcs.map(l);break;default:return null}return{type:n,coordinates:i}}(e)}(t,e);return null==i&&null==n?{type:"Feature",properties:a,geometry:r}:null==n?{type:"Feature",id:i,properties:a,geometry:r}:{type:"Feature",id:i,bbox:n,properties:a,geometry:r}}var De=new ArrayBuffer(16);new Float64Array(De),new Uint32Array(De),Math,Math,Math,Math,Math;let Ee=(()=>{class t{constructor(t){this.beyondService=t,this.mapCreated=!1,this.divId="#beyond-map",this.width=900,this.height=540,this.viewPlaceNames=!0,this.mapZoom=Object(Oe.a)().scaleExtent([1,10]),this.destroy$=new Me.a}ngOnInit(){this.makeMap()}ngOnChanges(){this.mapCreated&&this.updateMap()}makeMap(){this.makeSvg(),this.makeMapGroup(),this.makeZoomRect(),this.makeBaseMap(),this.makeCities(),this.updateMap(),this.makeMapInterface(),this.mapCreated=!0}makeSvg(){this.svg=Object(je.a)(this.divId).append("svg").attr("width",this.width).attr("height",this.height)}makeMapGroup(){this.map=this.svg.append("g").attr("viewBox",`0 0 ${this.width} ${this.height}`).attr("width","100%").attr("height","100%").attr("id","beyond-map-g")}makeZoomRect(){this.map.append("rect").attr("id","beyond-zoom-box").attr("class","click-overlay").attr("width","100%").attr("height","100%").attr("fill","none").on("mouseover",t=>{Object(je.a)(t.currentTarget).style("stroke","#cccccc").style("stroke-width","3px").style("stroke-linecap","butt").style("stroke-dasharray","2, 3")}).on("mouseout",t=>{Object(je.a)(t.currentTarget).style("stroke","none")})}makeBaseMap(){this.projection=Et().rotate([77.1945,0]).center([0,41.2033]),this.mapPath=Se().projection(this.projection).pointRadius(t=>this.getMarkerRadiusFromPopulation(t));const t=Ve(this.beyondService.tractsTopojson,this.beyondService.tractsTopojson.objects.PA_CensusTracts_2010);this.projection.scale(1).translate([0,0]);const e=this.mapPath.bounds(t),i=.95/Math.max((e[1][0]-e[0][0])/this.width,(e[1][1]-e[0][1])/this.height),n=[(this.width-i*(e[1][0]+e[0][0]))/2,(this.height-i*(e[1][1]+e[0][1]))/2];this.projection.scale(i).translate(n),this.mapZoom.on("zoom",()=>this.onMapZoom()),this.svg.call(this.mapZoom),this.map.append("g").selectAll("path").data(t.features).enter().append("path").attr("class","tracts vote-tracts").attr("tractno",t=>t.properties.GEO_ID).attr("d",this.mapPath).style("stroke-width","0.8px")}updateMap(){const t=this.mapCreated?300:0,e=Object(d.q)().duration(t).ease(g.a);this.map.selectAll(".tracts").transition(e).style("fill",t=>{const e=this.beyondService.tractData[t.properties.GEO_ID][this.electionType][this.electionYear];return!e||isNaN(e)?"#cccccc":(e>=0?b.vote.r:b.vote.d)(e)}).style("stroke",t=>{const e=this.beyondService.tractData[t.properties.GEO_ID][this.electionType][this.electionYear];return!e||isNaN(e)?"#cccccc":(e>=0?b.vote.r:b.vote.d)(e)})}makeCities(){const t=Ve(this.beyondService.citiesTopojson,this.beyondService.citiesTopojson.objects.PA_Cities);this.map.selectAll(".city").data(t.features).enter().append("path").attr("d",this.mapPath).attr("class","city").attr("visibility",t=>this.getVisibilityFromPopulation(t)),this.map.selectAll(".city-label").data(t.features).enter().append("text").attr("class","city-label").attr("transform",t=>"translate("+this.projection(t.geometry.coordinates)+")").attr("visibility",t=>this.getVisibilityFromPopulation(t)).attr("dy",t=>"Bethlehem"==t.properties.City||"Philadelphia"==t.properties.City||"Pittsburgh"==t.properties.City?"-.35em":".7em").attr("x",t=>t.geometry.coordinates[0]>-77.1945?-5:5).style("text-anchor",t=>t.geometry.coordinates[0]>-77.1945?"end":"start").text(t=>t.properties.City)}makeMapInterface(){this.svg.append("text").attr("id","beyond-explore-text").attr("class","map-text").attr("x",this.width-15).attr("y",45).text("zoom and move map to explore"),this.svg.append("text").attr("id","beyond-how-text").attr("class","map-text-sm").attr("x",this.width-15).attr("y",535).text("double click or pinch to zoom");const t=this.svg.append("text").attr("id","beyond-placenames-text").attr("class","map-sel-text").attr("x",this.width-15).attr("y",25).text(()=>this.viewPlaceNames?"placenames: on":"placenames: off");this.svg.append("rect").attr("class","click-overlay").attr("id","beyond-placenames-box").attr("width",120).attr("height",20).attr("x",this.width-125).attr("y",10).attr("fill","none").on("click",()=>this.togglePlaceNames(t)).on("mouseover",t=>{Object(je.a)(t.currentTarget).style("cursor","pointer")}).on("mouseout",t=>{Object(je.a)(t.currentTarget).style("cursor","default")}),this.svg.append("rect").attr("class","click-overlay-variable").attr("id","beyond-reset-box").attr("width",120).attr("height",30).attr("x",this.width-125).attr("y",30).attr("fill","none").attr("pointer-events","none").on("click",()=>this.resetZoom()).on("mouseover",t=>{Object(je.a)(t.currentTarget).style("cursor","pointer")}).on("mouseout",t=>{Object(je.a)(t.currentTarget).style("cursor","default")})}getMapSvg(){return Object(je.a)(this.divId).selectAll("svg")}getMapG(){return Object(je.a)("#beyond-map-g")}onMapZoom(){const t=Object(je.a)("#beyond-zoom-box"),e=Object(je.a)("#beyond-placenames-text"),i=Object(je.a)("#beyond-explore-text"),n=Object(je.a)("#beyond-how-text"),a=Object(je.a)("#beyond-reset-box"),r=Object(Oe.c)(this.svg.node());this.map.attr("transform",r);const o=r.k,s=t=>this.viewPlaceNames&&(o>=1.7||+t.properties.Population>=28500)?"visible":"hidden";this.map.selectAll(".city").attr("d",this.mapPath.pointRadius(t=>this.getMarkerRadiusFromPopulation(t))).attr("visibility",t=>s(t)),this.map.selectAll(".city-label").style("font-size",()=>.7/o+"rem").attr("visibility",t=>s(t)).attr("dy",t=>"Bethlehem"==t.properties.City||"Philadelphia"==t.properties.City||"Pittsburgh"==t.properties.City?-.35/o+"em":"Wilkinsburg"==t.properties.City||"Monroeville"==t.properties.City||"Upper St. Clair"==t.properties.City?3/o+"em":.7/o+"em").attr("x",t=>t.geometry.coordinates[0]>-77.1945?-7/o:7/o).style("text-anchor",t=>t.geometry.coordinates[0]>-77.1945?"end":"start");const l=o>=1.2;i.text(()=>l?"reset map":"zoom and move map to explore").style("fill",function(){if(l)return"black"}),n.text(()=>l?"":"double click or pinch to zoom"),e.style("fill",function(){if(l)return"black"}),a.attr("pointer-events",function(){return l?"all":"none"}),o>1?t.style("stroke","#cccccc").style("stroke-width","3px").style("stroke-linecap","butt").style("stroke-dasharray","2, 3"):t.style("stroke","none")}resetZoom(){this.svg.transition().duration(750).call(this.mapZoom.transform,Oe.b)}togglePlaceNames(t){this.viewPlaceNames=!this.viewPlaceNames,this.viewPlaceNames?(t.text("placenames: on"),this.map.selectAll(".city").attr("visibility",t=>this.getVisibilityFromPopulation(t)),this.map.selectAll(".city-label").attr("visibility",t=>this.getVisibilityFromPopulation(t))):(t.text("placenames: off"),this.map.selectAll(".city").attr("visibility","hidden"),this.map.selectAll(".city-label").attr("visibility","hidden"))}getVisibilityFromPopulation(t){return+t.properties.Population>=28500?"visible":"hidden"}getMarkerRadiusFromPopulation(t){return+t.properties.Population>1e6?5:+t.properties.Population>1e5?3:2}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(s.Eb(l.a))},t.\u0275cmp=s.yb({type:t,selectors:[["app-beyond-map"]],inputs:{electionYear:"electionYear",electionType:"electionType"},features:[s.ub],decls:1,vars:0,consts:[["id","beyond-map",1,"beyond-map"]],template:function(t,e){1&t&&s.Fb(0,"div",0)},styles:[".beyond-map{display:flex;flex-direction:column;font-family:Roboto;align-items:center}.beyond-map .click-overlay{fill:none;pointer-events:all}.beyond-map .click-overlay-variable{fill:none}.beyond-map .map-text{font:14px Roboto Mono;font-weight:400;fill:#bbb;stroke:none;text-anchor:end}.beyond-map .map-sel-text,.beyond-map .map-text-sm{font:11px Roboto Mono;font-weight:400;fill:#bbb;stroke:none;text-anchor:end}.beyond-map .reset-text{font:14px Roboto Mono;font-weight:400;fill:#bbb;stroke:none;text-anchor:end}.beyond-map .city,.beyond-map .town{fill:none;stroke:#000;vector-effect:non-scaling-stroke}.beyond-map .city-label{font:400 .7rem Roboto Mono;fill:#000;stroke:none}"],encapsulation:2}),t})();var Pe=i("NltA"),Te=i("GHWt"),Fe=i("Enya");function _e(t,e){const{width:i,lineHeight:n=1.1,wrapUp:a=!1}=e;t.each(function(){const t=Object(d.o)(this),e=t.text().split(" ").reverse();let r,o=[],s=0;const l=this.getAttribute("y"),c=this.getAttribute("x"),u=t.attr("dy");let h=t.text(null).append("tspan").attr("x",c).attr("y",l).attr("dy",u+"em");for(;r=e.pop();)o.push(r),h.text(o.join(" ")),h.node().getComputedTextLength()>i?(o.pop(),h.text(o.join(" ")),o=[r],h=t.append("tspan").attr("x",c).attr("y",l).attr("dy",++s*n+u+"em").text(r)):h.attr("y",l);a&&t.style("transform",`translate(0, -${s*n-n}em`)})}let Be=(()=>{class t{constructor(t){this.beyondService=t,this.barCreated=!1,this.divId="#beyond-bar",this.visWidth=920,this.width={main:790,index:30},this.margin={top:60,bottom:40,main:{right:20,left:74},index:{right:10,left:10}},this.axisOffset=10,this.numQuantiles=10}ngOnInit(){this.makeVis()}ngOnChanges(){this.barCreated&&this.updateVis()}makeVis(){this.setData(),this.sortData(),this.setHeight(),this.makeYScale(),this.makeXScale(),this.makeBarMain(),this.makeBarIndex(),this.barCreated=!0}updateVis(){this.sortData(),this.setHeight(),this.makeYScale(),this.makeXScale(),this.updateAxes();const t=Object(d.q)().duration(300).ease(g.a);this.updateBarMain(t),this.updateBarIndex(t)}updateAxes(){Object(je.a)("#gridVertical").remove(),Object(je.a)("#gridHorizontal").remove(),Object(je.a)("#xAxisTop").remove(),Object(je.a)("#xAxisBottom").remove(),Object(je.a)("#yAxis").remove(),Object(je.a)("#zeroAxis").remove(),Object(Fe.a)(".chart-label").remove(),Object(Fe.a)(".chart-yaxis-label").remove(),this.setAxes(),Object(je.a)("#gridVertical").lower(),Object(je.a)("#gridHorizontal").lower()}updateBarMain(t){const e=this.getBarWidthFunc(),i=this.getBarXFunc();this.updateBar(e,i,".bar.main",t)}updateBarIndex(t){this.updateBar(t=>this.width.index,t=>0,".bar.index",t)}updateBar(t,e,i,n){this.svgMain.selectAll(i).transition(n).attr("y",t=>this.y(Object.keys(t)[0])).attr("x",t=>e(t)).attr("height",t=>this.getDemoValue(t)?1:0).attr("width",e=>t(e)).attr("fill",t=>this.getVoteColor(t))}setData(){this.data=Object.entries(this.beyondService.tractData).map(([t,e])=>{const i={};return i[t]=e,i})}sortData(){this.data.sort((t,e)=>this.getDemoValue(t)||this.getDemoValue(e)?this.getDemoValue(t)?this.getDemoValue(e)?Object(d.f)(this.getDemoValue(t),this.getDemoValue(e)):-1:1:0)}setHeight(){this.height=this.data.length}makeYScale(){const t=this.data.map(t=>Object.keys(t)[0]);this.y=Object(d.l)().domain(t).rangeRound([0,this.height]),this.gridY=Object(d.m)().domain([0,this.height]).range([0,this.height])}makeXScale(){const t=Object(d.i)(this.data.map(t=>this.getDemoValue(t)));this.x=Object(d.m)().domain(t).nice().range([0,this.width.main])}makeBarMain(){this.svgMain=Object(je.a)(this.divId).append("svg").attr("width",this.width.main+this.margin.main.left+this.margin.main.right).attr("height",this.height+this.margin.top+this.margin.bottom).attr("class","beyond-bar-svg-main").append("g").attr("class","beyond-bar-main-g").attr("transform",`translate(0, ${this.margin.top})`),this.barMain=this.svgMain.append("g").attr("transform",`translate(${this.margin.main.left}, 0)`).attr("id","beyond-bar-main-g");const t=this.getBarWidthFunc(),e=this.getBarXFunc();this.setAxes(),this.makeBar(this.barMain,t,e,"bar main")}makeAxisLabels(){const t=f.find(t=>t.value===this.demoType),e=`${t.yAxis} decile values`,i=t.xAxis;this.barMain.append("text").attr("class","bar-main y-axis-label chart-label").text(e).attr("x",-10).attr("y",-10).style("text-anchor","end").call(_e,{width:this.margin.main.left-this.axisOffset,wrapUp:!0}),this.barMain.append("text").attr("class","bar-main x-axis-label chart-label").text(i).attr("x",this.width.main).attr("y",-36).style("text-anchor","end")}getBarXFunc(){return t=>this.x(Math.min(0,this.getDemoValue(t)))}getBarWidthFunc(){return t=>Math.abs(this.x(this.getDemoValue(t))-this.x(0))}makeBarIndex(){this.svgIndex=Object(je.a)(this.divId).append("svg").attr("width",this.width.index+this.margin.index.left+this.margin.index.right).attr("height",this.height+this.margin.top+this.margin.bottom).attr("class","beyond-bar-svg-index").append("g").attr("class","beyond-bar-index-g").attr("transform",`translate(0, ${this.margin.top})`),this.barIndex=this.svgIndex.append("g").attr("transform",`translate(${this.margin.index.left}, 0)`).attr("id","beyond-bar-index-g"),this.barIndex.append("text").attr("class","bar-index drag-instructions").text("drag to select tracts in map").attr("x",this.width.index/2).attr("y",-10).style("text-anchor","middle").call(_e,{width:this.width.index+this.margin.index.left+this.margin.index.right,wrapUp:!0}),this.makeBar(this.barIndex,t=>this.width.index,t=>0,"bar index"),this.makeBrush()}makeBrush(){const t=Object(d.d)().extent([[0,0],[this.width.index+this.margin.index.left+this.margin.index.right,this.height]]).on("brush",t=>{this.brushTracts(t)});this.svgIndex.append("g").attr("class","brush").call(t),this.svgIndex.selectAll(".overlay").on("mousedown touchstart",this.handleIndexBarClick.bind(this))}brushTracts(t){if(t.selection){const e=t.selection,i=this.barIndex.selectAll("rect").filter((t,i,n)=>{const a=Object(je.a)(n[i]).attr("y");return this.isBrushed(e,a)}).classed("brushed",!0),n=Object(Fe.a)(".vote-tracts");i.each((t,e,i)=>{const a=i[e].getAttribute("tract");n.filter(t=>t.properties.GEO_ID===a).raise().classed("brushed",!0).style("stroke","black").style("stroke-width","1.5px")})}}handleIndexBarClick(){Object(Fe.a)(".vote-tracts.brushed").classed("brushed",!1).style("stroke",t=>this.getVoteColorFromTractGeo(t)).style("stroke-width","0.8px")}getVoteColorFromTractGeo(t){const e=t.properties.GEO_ID,i=this.data.find(t=>Object.keys(t)[0]===e);return this.getVoteColor(i)}isBrushed(t,e){return t[0]<=e&&e<=t[1]}makeBar(t,e,i,n){t.append("g").attr("class","bar-rect-g").selectAll("rect").data(this.data).join("rect").attr("class",n).attr("tract",t=>Object.keys(t)[0]).attr("y",t=>this.y(Object.keys(t)[0])).attr("x",t=>i(t)).attr("height",t=>this.getDemoValue(t)?1:0).attr("width",t=>e(t)).attr("fill",t=>this.getVoteColor(t))}getDemoValue(t){return Object.values(t)[0][this.demoType][this.demoYear]}getElectionValue(t){return Object.values(t)[0][this.electionType][this.electionYear]}getVoteColor(t){const e=this.getElectionValue(t);return 0===e?"#cccccc":b["change"===this.electionYear?"change":"vote"][e<0?"d":"r"](e)}getQuantileValues(t){const e=Object(Pe.a)(this.numQuantiles*t).map(e=>e/(this.numQuantiles*t)),i=this.data.map(t=>this.getDemoValue(t)).filter(t=>null!==t&&!isNaN(t));return e.map(t=>Object(Te.a)(i,t))}setAxes(){const t=this.getQuantileValues(1),e=this.getQuantileValues(5.5),i=this.getAxisTickFormat(),n=Object(d.n)().domain(t).range([0,this.height]),a=Object(d.n)().domain(e).range([0,this.height]),r=Object(d.c)().scale(this.x).tickFormat(i),o=Object(d.a)().scale(this.x).tickFormat(i),s=Object(d.b)().scale(this.y).tickSize(0).tickFormat(""),l=Object(d.b)().scale(n).tickFormat(i),c=Object(d.c)().scale(this.x).tickSize(this.height,0,0).tickFormat(""),u=Object(d.b)().scale(a).tickSize(-this.x.range()[1],0,0).tickFormat("");this.barMain.append("g").attr("class","grid vertical").attr("id","gridVertical").attr("transform","translate(0,"+(this.height+0)+")").call(c).call(t=>t.select(".domain").remove()).call(t=>t.selectAll(".tick line").attr("stroke","black").attr("stroke-opacity",.4).attr("stroke-dasharray","2 4")),this.barMain.append("g").attr("class","grid horizontal").attr("id","gridHorizontal").call(u).call(t=>t.select(".domain").remove()).call(t=>t.selectAll(".tick line").attr("stroke","black").attr("stroke-opacity",.5).attr("stroke-dasharray","2,2")),this.barMain.append("g").attr("class","x axis").attr("id","xAxisTop").attr("transform",`translate(0, -${this.axisOffset})`).call(r),this.barMain.append("g").attr("class","x axis").attr("id","xAxisBottom").attr("transform","translate(0,"+(this.height+this.axisOffset)+")").call(o),this.barMain.append("g").attr("class","y axis").attr("id","yAxis").attr("transform",`translate(-${this.axisOffset}, 0)`).call(l),this.barMain.append("g").attr("class","zero axis").attr("id","zeroAxis").attr("transform","translate("+this.x(0)+",0)").call(s),this.barMain.selectAll(".domain").attr("stroke","black").attr("stroke-width","1"),this.barMain.selectAll(".y.axis text").style("font-size","0.8rem"),this.makeAxisLabels()}getAxisTickFormat(){return"change"==this.demoYear?Object(d.j)(".0%"):"populationDensity"==this.demoType?Object(d.j)(",.0f"):"income"==this.demoType?Object(d.j)("$,.0f"):function(t){return t+"%"}}}return t.\u0275fac=function(e){return new(e||t)(s.Eb(l.a))},t.\u0275cmp=s.yb({type:t,selectors:[["app-beyond-bar"]],inputs:{electionYear:"electionYear",electionType:"electionType",demoType:"demoType",demoYear:"demoYear"},features:[s.ub],decls:1,vars:0,consts:[["id","beyond-bar",1,"beyond-bar"]],template:function(t,e){1&t&&s.Fb(0,"div",0)},styles:[".beyond-bar{display:flex}.beyond-bar .y-axis-label tspan{font-family:Roboto Mono;font-size:10px;fill:#999}.beyond-bar .x-axis-label{font-family:Roboto Mono;font-size:11px;fill:#999}.beyond-bar .drag-instructions tspan{font-family:Roboto Mono;font-size:11px;text-anchor:center}"],encapsulation:2}),t})();function Re(t,e){if(1&t&&(s.Kb(0,"div",31),s.Kb(1,"p",32),s.fc(2),s.Jb(),s.Jb()),2&t){const t=e.$implicit;s.vb(2),s.gc(t)}}const Ie=function(t){return{selected:t}};function Ke(t,e){if(1&t){const t=s.Lb();s.Kb(0,"div",33),s.Fb(1,"input",34),s.Kb(2,"label",35),s.Qb("click",function(){s.ac(t);const i=e.$implicit;return s.Tb().updateElectionType(i.value)}),s.fc(3),s.Jb(),s.Jb()}if(2&t){const t=e.$implicit,i=s.Tb();s.vb(1),s.Ub("id","election-type-sel-"+t.value)("value",t.value)("checked",i.isSelectedElectionType(t.value)),s.vb(1),s.Ub("for","election-type-sel-"+t.value)("ngClass",s.Wb(6,Ie,i.isSelectedElectionType(t.value))),s.vb(1),s.gc(t.name)}}function Je(t,e){if(1&t){const t=s.Lb();s.Kb(0,"div",36),s.Fb(1,"input",37),s.Kb(2,"label",35),s.Qb("click",function(){s.ac(t);const i=e.$implicit;return s.Tb().updateElectionYear(i.value)}),s.fc(3),s.Jb(),s.Jb()}if(2&t){const t=e.$implicit,i=s.Tb();s.vb(1),s.Ub("id","election-year-sel-"+t.value)("value",t.value)("checked",i.isSelectedElectionYear(t.value)),s.vb(1),s.Ub("for","election-year-sel-"+t.value)("ngClass",s.Wb(6,Ie,i.isSelectedElectionYear(t.value))),s.vb(1),s.hc("",t.name," ")}}function Ye(t,e){if(1&t){const t=s.Lb();s.Kb(0,"div",38),s.Fb(1,"input",39),s.Kb(2,"label",35),s.Qb("click",function(){s.ac(t);const i=e.$implicit;return s.Tb().updateDemoType(i.value)}),s.fc(3),s.Jb(),s.Jb()}if(2&t){const t=e.$implicit,i=s.Tb();s.vb(1),s.Ub("id","demo-type-sel-"+t.value)("value",t.value)("checked",i.isSelectedDemoType(t.value)),s.vb(1),s.Ub("for","demo-type-sel-"+t.value)("ngClass",s.Wb(6,Ie,i.isSelectedDemoType(t.value))),s.vb(1),s.gc(t.name)}}function ze(t,e){if(1&t){const t=s.Lb();s.Kb(0,"div",40),s.Fb(1,"input",41),s.Kb(2,"label",35),s.Qb("click",function(){return s.ac(t),s.Tb().updateDemoYear()}),s.fc(3),s.Jb(),s.Jb()}if(2&t){const t=e.$implicit,i=s.Tb();s.vb(1),s.Ub("id","demo-year-sel-"+t.value)("checked","change"===i.demoYear),s.vb(1),s.Ub("for","demo-year-sel-"+t.value)("ngClass",s.Wb(5,Ie,"change"===i.demoYear)),s.vb(1),s.gc(t.name)}}const qe=function(t){return[t]};let Ne=(()=>{class t{constructor(){}ngOnInit(){this.initSelections(),this.demoTypeLabels=f,this.demoYearLabels=p,this.electionTypeLabels=h,this.electionYearLabels=u,this.updateLegendValues()}initSelections(){this.electionType="president",this.electionYear="2016",this.demoType="populationDensity",this.demoYear="current"}updateSelection(t,e){this[t]=e}updateElectionYear(t){this.electionYear=t,this.updateLegendValues()}updateElectionType(t){this.electionType=t}updateDemoType(t){this.demoType=t}updateDemoYear(){this.demoYear="change"===this.demoYear?"current":"change"}updateLegendValues(){const t=Object(d.k)(-100,120,20),e=Object(d.k)(-50,60,10),i=this.isSelectedElectionYear("change")?e:t;this.legendValues=i.map(t=>`${t}%`)}isSelectedElectionYear(t){return t===this.electionYear}isSelectedElectionType(t){return t===this.electionType}isSelectedDemoType(t){return t===this.demoType}getElectionTypeTitle(){return this.electionTypeLabels.find(t=>t.value===this.electionType).title}getTitleElement(t,e){const i=`${t}${e[0].toUpperCase()+e.substring(1)}`;return this[`${i}Labels`].find(t=>t.value===this[`${i}`]).title}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.yb({type:t,selectors:[["app-beyond"]],decls:49,vars:17,consts:[["id","beyond-intro",1,"beyond-intro"],[1,"project-description"],["id","beyond-the-county-line",1,"beyond-div"],[3,"electionYear","electionType"],[1,"map-title"],[1,"map-title","race"],[1,"map-title","year"],[1,"legend-container"],[1,"legend-text","party","dem"],[1,"inner-legend-container"],[1,"legend-bar-container"],[1,"legend-bar","dem"],[1,"legend-bar","rep"],[1,"legend-scale-container"],["class","value-container",4,"ngFor","ngForOf"],[1,"legend-text","party","rep"],[1,"beyond-selectors"],[1,"election-selectors"],[1,"election-type-selectors"],["class","election-type-sel",4,"ngFor","ngForOf"],[1,"election-year-selectors"],["class","election-year-sel",4,"ngFor","ngForOf"],[1,"demo-selectors"],[1,"demo-type-selectors"],["class","demo-type-sel",4,"ngFor","ngForOf"],["class","election-year-sel",3,"ngClass",4,"ngFor","ngForOf"],[1,"bars-title"],[1,"bars-title","demo"],[1,"bars-title","year"],[1,"bars-title","subtitle"],[3,"electionYear","electionType","demoYear","demoType"],[1,"value-container"],[1,"legend-text","value"],[1,"election-type-sel"],["type","radio","name","electionType",3,"id","value","checked"],[3,"for","ngClass","click"],[1,"election-year-sel"],["type","radio","name","electionYear",3,"id","value","checked"],[1,"demo-type-sel"],["type","radio","name","demoType",3,"id","value","checked"],[1,"election-year-sel",3,"ngClass"],["type","checkbox","name","demoYear",3,"id","checked"]],template:function(t,e){1&t&&(s.Kb(0,"div",0),s.Kb(1,"p",1),s.fc(2,'"Demography is destiny." Or is it?'),s.Jb(),s.Kb(3,"p",1),s.fc(4,' The 2016 Presidential election called into question long-held narratives about how demographic change in the United States would effect election outcomes. Almost immediately after the election, the idea that America\'s ethnic diversification would ensure Democratic dominance was supplanted by claims that a previously overlooked "silent majority" had delivered a Republican victory. '),s.Jb(),s.Kb(5,"p",1),s.fc(6," That the national conversation about American demography could change so much more quickly than the facts of who lives in the United States suggests that the question of how demographic characteristics do or not map onto particular political positions could benefit from methodical examination of actual data. Using returns from federal elections in Pennsylvania in 2012 and 2016, as well as data from the U.S. Census Bureau's American Community Survey, this visualization allows users to literally see for themselves how five different demographic characteristics did or did not correlate to voting outcomes. It does this at a far greater resolution than what typical election analysis shows, by displaying both election and demographic data at the census tract rather than the usual county level. Disaggregating the data from 67 counties to 3,217 census tracts of approximately 4,000 people each offers a much more granular view that preserves the small, demographically and/or politically homogenous areas that tend to disappear when data is presented as county-wide averages, and that were the subject of much debate in the fall of 2016. "),s.Jb(),s.Kb(7,"p",1),s.fc(8," Users can interact with the visualization in a number of ways to understand both geographic and demographic trends in 2016 and 2012 elections, as well as change between those years. Census tract-level election results displayed in the top map can be sorted by demographic characteristic in the lower (very long) chart, allowing users to examine the data behind suppositions about voting patterns among particular demographic groups. Anomalous census tracts \u2014 for example, a tract with a high percentage of non-white residents that, unlike those who share that demographic characteristic, cast a majority of votes for the Republican candidate \u2014 can be easily visually identified, and then located in the map once selected on the right-hand side of the chart. "),s.Jb(),s.Kb(9,"p",1),s.fc(10," Although the data used in this visualization is readily available, the discrepancy between boundaries of voting districts \u2014 established and administered by state and local authorities \u2014 and those of census tracts \u2014 determined by the U.S. Census Bureau \u2014 makes the direct comparison of these two datasets challenging, and is one explanation for why few maps with this level of detail exist. I created the data shown here by aggregating vote totals from 9,256 local voting precincts to the census tracts in which they are located, splitting votes in proportion to land area in cases of boundary overlap. Because shapefiles are not available for voting precints, this operation was performed with correspondence files from the Missouri Census Data Center's MABLE/Geocorr14 project. Demographic data comes from the U.S. Census Bureau's American Community Survey. Pennsylvania precint-level election results are available from Open Elections. "),s.Jb(),s.Kb(11,"p",1),s.fc(12,"[Spring 2017]"),s.Jb(),s.Jb(),s.Kb(13,"div",2),s.Fb(14,"app-beyond-map",3),s.Kb(15,"p",4),s.Kb(16,"span",5),s.fc(17),s.Jb(),s.Kb(18,"span",6),s.fc(19),s.Jb(),s.Jb(),s.Kb(20,"div",7),s.Kb(21,"p",8),s.fc(22,"Democrat"),s.Jb(),s.Kb(23,"div",9),s.Kb(24,"div",10),s.Fb(25,"div",11),s.Fb(26,"div",12),s.Jb(),s.Kb(27,"div",13),s.dc(28,Re,3,1,"div",14),s.Jb(),s.Jb(),s.Kb(29,"p",15),s.fc(30,"Republican"),s.Jb(),s.Jb(),s.Kb(31,"div",16),s.Kb(32,"div",17),s.Kb(33,"div",18),s.dc(34,Ke,4,8,"div",19),s.Jb(),s.Kb(35,"div",20),s.dc(36,Je,4,8,"div",21),s.Jb(),s.Jb(),s.Kb(37,"div",22),s.Kb(38,"div",23),s.dc(39,Ye,4,8,"div",24),s.Jb(),s.dc(40,ze,4,7,"div",25),s.Jb(),s.Jb(),s.Kb(41,"p",26),s.Kb(42,"span",27),s.fc(43),s.Jb(),s.Kb(44,"span",28),s.fc(45),s.Jb(),s.Jb(),s.Kb(46,"p",29),s.fc(47,"colored by selected election results"),s.Jb(),s.Fb(48,"app-beyond-bar",30),s.Jb()),2&t&&(s.vb(14),s.Ub("electionYear",e.electionYear)("electionType",e.electionType),s.vb(3),s.hc("",e.getTitleElement("election","type"),": "),s.vb(2),s.gc(e.getTitleElement("election","year")),s.vb(9),s.Ub("ngForOf",e.legendValues),s.vb(6),s.Ub("ngForOf",e.electionTypeLabels),s.vb(2),s.Ub("ngForOf",e.electionYearLabels),s.vb(3),s.Ub("ngForOf",e.demoTypeLabels),s.vb(1),s.Ub("ngForOf",s.Wb(15,qe,e.demoYearLabels[1])),s.vb(3),s.hc("",e.getTitleElement("demo","type"),": "),s.vb(2),s.gc(e.getTitleElement("demo","year")),s.vb(3),s.Ub("electionYear",e.electionYear)("electionType",e.electionType)("demoYear",e.demoYear)("demoType",e.demoType))},directives:[Ee,n.i,Be,n.h],styles:['.beyond-intro p{font-variant-ligatures:common-ligatures;font-feature-settings:"liga","clig";font-family:ff-tisa-sans-web-pro,sans-serif;font-weight:400;font-style:normal}.beyond-div,.beyond-intro{display:flex;flex-direction:column}.beyond-div .beyond-selectors input[type=checkbox],.beyond-div .beyond-selectors input[type=radio]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:relative;width:1px}.beyond-intro{max-width:740px;margin:0 auto}.beyond-intro p{padding-top:1rem;text-align:justify;color:rgba(37,39,77,.85)}.beyond-intro p:last-of-type{padding-bottom:1rem}.beyond-div{font-family:Roboto;align-items:center;padding-bottom:64px}.beyond-div .beyond-selectors{display:flex;flex-direction:column;padding:24px 0}.beyond-div .beyond-selectors label{display:inline-flex;align-items:center;justify-content:center;text-align:center;font-family:Roboto Mono;font-size:14px;padding:6px 10px;border:1px solid #999;color:#999;width:120px}.beyond-div .beyond-selectors label.selected{background:#ccc;color:#fff}.beyond-div .demo-selectors,.beyond-div .election-selectors{display:flex;justify-content:space-between;font-size:.8rem}.beyond-div .demo-selectors>div:first-of-type,.beyond-div .election-selectors>div:first-of-type{margin-right:18px}.beyond-div .election-selectors{padding-bottom:1rem}.beyond-div .demo-selectors label{height:48px;line-height:.9rem}.beyond-div .demo-type-selectors,.beyond-div .election-type-selectors,.beyond-div .election-year-selectors{display:flex}.beyond-div .bars-title,.beyond-div .map-title{font-family:Roboto Mono;font-size:14px;font-weight:700;color:#666}.beyond-div .bars-title.subtitle,.beyond-div .map-title.subtitle{font-size:12px}.beyond-div .legend-container{display:flex;padding-top:18px}.beyond-div .inner-legend-container{width:560px;padding-top:4px}.beyond-div .legend-bar-container{display:flex;justify-content:center}.beyond-div .legend-bar{height:10px}.beyond-div .legend-bar.dem{flex-basis:45%;background:linear-gradient(90deg,#3c5bff,#d2e4ff)}.beyond-div .legend-bar.rep{flex-basis:45%;background:linear-gradient(90deg,#f8e5e6,#dd0035)}.beyond-div .legend-scale-container{display:flex;justify-content:space-between;padding-top:2px}.beyond-div .value-container{display:flex;flex-direction:column;flex-grow:1;width:100%}.beyond-div .legend-text{font-family:Roboto Mono;color:#999;font-size:12px}.beyond-div .legend-text.party{position:relative}.beyond-div .legend-text.party.dem{left:12px}.beyond-div .legend-text.party.rep{right:12px}.beyond-div .legend-text.value{align-self:center}'],encapsulation:2}),t})();var Ue=i("QpCj");function Le(t,e){return function(i){return t+i*(e-t)}}var $e=i("xo8x"),We=i("XoFe"),Ge=i("tU+D"),He=i("cdIC"),Xe=t=>()=>t;function Ze(t,{sourceEvent:e,subject:i,target:n,identifier:a,active:r,x:o,y:s,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}function Qe(t){return!t.ctrlKey&&!t.button}function ti(){return this.parentNode}function ei(t,e){return null==e?{x:t.x,y:t.y}:e}function ii(){return navigator.maxTouchPoints||"ontouchstart"in this}Ze.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ni=i("mdQd"),ai=i("jX7A");class ri{constructor(t,e,i,n){this.isDragged=!1,this.flipService=n,this.isDragged=!1,this.data=t,this.draggedData=t,this.el=e,this.visContainer=i,this.cutD=this.data.dPercent*ni.a.rows*ni.a.cols,this.cutOther=(this.data.dPercent+this.data.oPercent)*ni.a.rows*ni.a.cols,this.selectSvg(),this.makeDragRectangle(),this.makeSquares()}selectSvg(){this.svg=Object(d.o)(this.el).attr("class","bar").attr("district",this.data.district).style("fill","none")}makeDragRectangle(){const t=function(){var t,e,i,n,a=Qe,r=ti,o=ei,s=ii,l={},c=Object($e.a)("start","drag","end"),d=0,u=0;function h(t){t.on("mousedown.drag",p).filter(s).on("touchstart.drag",g).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(o,s){if(!n&&a.call(this,o,s)){var l=v(this,r.call(this,o,s),o,s,"mouse");l&&(Object(je.a)(o.view).on("mousemove.drag",f,!0).on("mouseup.drag",b,!0),Object(Ge.a)(o.view),Object(He.b)(o),i=!1,t=o.clientX,e=o.clientY,l("start",o))}}function f(n){if(Object(He.a)(n),!i){var a=n.clientX-t,r=n.clientY-e;i=a*a+r*r>u}l.mouse("drag",n)}function b(t){Object(je.a)(t.view).on("mousemove.drag mouseup.drag",null),Object(Ge.b)(t.view,i),Object(He.a)(t),l.mouse("end",t)}function g(t,e){if(a.call(this,t,e)){var i,n,o=t.changedTouches,s=r.call(this,t,e),l=o.length;for(i=0;i<l;++i)(n=v(this,s,t,e,o[i].identifier,o[i]))&&(Object(He.b)(t),n("start",t,o[i]))}}function m(t){var e,i,n=t.changedTouches,a=n.length;for(e=0;e<a;++e)(i=l[n[e].identifier])&&(Object(He.a)(t),i("drag",t,n[e]))}function y(t){var e,i,a=t.changedTouches,r=a.length;for(n&&clearTimeout(n),n=setTimeout(function(){n=null},500),e=0;e<r;++e)(i=l[a[e].identifier])&&(Object(He.b)(t),i("end",t,a[e]))}function v(t,e,i,n,a,r){var s,u,p,f=c.copy(),b=Object(We.a)(r||i,e);if(null!=(p=o.call(t,new Ze("beforestart",{sourceEvent:i,target:h,identifier:a,active:d,x:b[0],y:b[1],dx:0,dy:0,dispatch:f}),n)))return s=p.x-b[0]||0,u=p.y-b[1]||0,function i(r,o,c){var g,m=b;switch(r){case"start":l[a]=i,g=d++;break;case"end":delete l[a],--d;case"drag":b=Object(We.a)(c||o,e),g=d}f.call(r,t,new Ze(r,{sourceEvent:o,subject:p,target:h,identifier:a,active:g,x:b[0]+s,y:b[1]+u,dx:b[0]-m[0],dy:b[1]-m[1],dispatch:f}),n)}}return h.filter=function(t){return arguments.length?(a="function"==typeof t?t:Xe(!!t),h):a},h.container=function(t){return arguments.length?(r="function"==typeof t?t:Xe(t),h):r},h.subject=function(t){return arguments.length?(o="function"==typeof t?t:Xe(t),h):o},h.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Xe(!!t),h):s},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(u=(t=+t)*t,h):Math.sqrt(u)},h}().on("start",this.initiateDrag.bind(this)).on("drag",this.dragChange.bind(this)).on("end",this.dragEnd.bind(this));this.svg.append("rect").attr("class","drag-bar").attr("district",this.data.district).style("pointer-events","all").attr("width",ni.a.width).attr("height",ni.a.height).style("fill","none").on("mouseover",this.handleMouseOver.bind(this)).on("mouseout",this.handleMouseOut.bind(this)).call(t)}makeSquares(){this.svg.selectAll(".bar-square").data(Object(Pe.a)(ni.a.numSquares)).enter().append("rect").attr("class","bar-square").attr("district",this.data.district).attr("width",ni.a.squareSize-.4).attr("height",ni.a.squareSize-.4).attr("cellnum",t=>ni.a.numSquares-t).attr("x",t=>ni.a.squareSize*(t%ni.a.cols)).attr("y",t=>ni.a.squareSize*Math.floor(t/ni.a.cols)).style("fill",ni.b.initialColor).style("stroke","ffffff").style("stroke-width",.4).style("stroke-linecap","butt").style("pointer-events","none").attr("squareColor",(t,e,i)=>{const n=i[e];return n.getAttribute("cellnum")<=this.cutD?ni.b.dColor:n.getAttribute("cellnum")>this.cutD&&n.getAttribute("cellnum")<=this.cutOther?ni.b.oColor:ni.b.rColor}).transition().delay((t,e,i)=>{const n=i[e];return n.getAttribute("squareColor")==ni.b.dColor?ni.d.pause+n.getAttribute("cellnum")*ni.d.delay:n.getAttribute("squareColor")==ni.b.oColor?ni.d.pause+n.getAttribute("cellnum")*ni.d.delay*2+this.cutOther*ni.d.delay:n.getAttribute("squareColor")==ni.b.rColor?ni.d.pause+(this.cutD*ni.d.delay+(ni.a.numSquares-n.getAttribute("cellnum")+1)*ni.d.delay):void 0}).style("fill",(t,e,i)=>i[e].getAttribute("squareColor"))}handleMouseOver(){this.flipService.showDistrictInfo(this.data,this.visContainer)}handleMouseOut(){this.flipService.hideDistrictInfo(this.data,this.visContainer)}initiateDrag(t){console.log(this),this.dragStartVotes=this.isDragged?this.draggedData:this.data;const[e,i]=this.getPointerCoordsOnBar(t),n=this.getVotesFromPosition(e,i,this.data);this.getStartParty(n),this.isDragged=!0}dragChange(t){const[e,i]=this.getPointerCoordsOnBar(t),n=this.getVotesFromPosition(e,i,this.data);this.updateDraggedData(n),this.updateBar(),this.flipService.updateVisualization(this)}dragEnd(){Object(d.p)(".district-boundary").filter((t,e,i)=>i[e].getAttribute("district")==this.data.district).classed("active-drag",!1).classed("active-mouseover",!1),Object(d.p)(".district-boundary").filter((t,e,i)=>i[e].getAttribute("district")!=this.data.district).classed("active-drag-others",!1)}getPointerCoordsOnBar(t){return[Math.max(0,Math.min(ni.a.width,t.x)),Math.max(0,Math.min(ni.a.height,t.y))]}getVotesFromPosition(t,e,i){return Object(d.m)().domain([0,Math.sqrt(Math.pow(ni.a.height,2)+Math.pow(ni.a.width,2))]).range([0,i.totalVotes]).clamp(!0)(Math.sqrt(Math.pow(t,2)+Math.pow(e,2)))}getStartParty(t){this.dragStartVotes.rVotes===this.data.totalVotes?this.dragStartParty=ai.b.D:this.dragStartVotes.dVotes===this.data.totalVotes||t<=this.dragStartVotes.rVotes?this.dragStartParty=ai.b.R:t>this.dragStartVotes.rVotes&&t<=this.dragStartVotes.rVotes+this.dragStartVotes.oVotes?this.dragStartParty=ai.b.O:t>this.dragStartVotes.rVotes+this.dragStartVotes.oVotes&&(this.dragStartParty=ai.b.D)}updateDraggedData(t){let e,i,n;const a=this.data.totalVotes-(this.dragStartVotes.dVotes+this.dragStartVotes.oVotes),r=this.data.totalVotes-this.dragStartVotes.dVotes;this.dragStartParty==ai.b.D?(e=this.data.totalVotes-t,t>=a&&t>=r||t>=a&&t<r?(i=this.dragStartVotes.rVotes,n=this.data.totalVotes-e-i):t<a&&(i=t,n=0)):this.dragStartParty==ai.b.R?(i=t,t<a||t>=a&&t<r?(e=this.dragStartVotes.dVotes,n=this.data.totalVotes-e-i):t>=a&&t>=r&&(e=this.data.totalVotes-t,n=0)):this.dragStartParty==ai.b.O&&(t<this.dragStartVotes.rVotes?(e=this.dragStartVotes.dVotes,i=t,n=this.data.totalVotes-e-i):t>=this.dragStartVotes.rVotes&&t<this.dragStartVotes.dVotes?(e=this.dragStartVotes.dVotes,i=this.dragStartVotes.rVotes,n=t-this.dragStartVotes.rVotes):t>=this.dragStartVotes.dVotes&&(e=this.data.totalVotes-t,i=this.dragStartVotes.rVotes,n=t-this.dragStartVotes.rVotes)),this.draggedData.dVotes=e,this.draggedData.rVotes=i,this.draggedData.oVotes=n,this.draggedData.dPercent=e/this.data.totalVotes,this.draggedData.rPercent=i/this.data.totalVotes,this.draggedData.oPercent=n/this.data.totalVotes}updateBar(){const t=this.draggedData.dPercent*ni.a.rows*ni.a.cols,e=(this.draggedData.dPercent+this.draggedData.oPercent)*ni.a.rows*ni.a.cols;this.svg.selectAll(".bar-square").attr("squareColor",(i,n,a)=>a[n].getAttribute("cellnum")<=t?ni.b.dColor:a[n].getAttribute("cellnum")>t&&a[n].getAttribute("cellnum")<=e?ni.b.oColor:ni.b.rColor).transition().duration(60).style("fill",(t,e,i)=>i[e].getAttribute("squareColor"))}}var oi=i("g8i/");let si=(()=>{class t{constructor(t){this.flipService=t,this.divId="#flip-the-district",this.introId="#flip-intro"}ngOnInit(){this.flipService.setFlipData()}initVis(){this.makeVis(),Object(Ue.a)(this.divId.replace("#",""),"smooth","start")}makeVis(){const t=Object(je.a)(this.divId);t.selectAll("div").remove(),t.selectAll("svg").remove(),this.makeVoteDisplay(t),this.makeBars(t),this.makeLowerVis(t),t.append("div").attr("class","reset-button").attr("width",180).attr("height",26).text("reset to 2016 results").on("click",this.resetVis.bind(this))}makeVoteDisplay(t){const e=Object(d.j)(",.0f"),i=t.append("svg").attr("class","container").attr("width",900).attr("height",150).append("g");i.append("line").attr("class","bars-line").attr("x1",110).attr("x2",790).attr("y1",83).attr("y2",83).style("stroke","#cccccc").style("stroke-width","2px").style("stroke-linecap","butt"),i.append("text").attr("class","display-static").attr("x",450).attr("y",55).style("text-anchor","middle").text("votes"),i.append("text").attr("class","display-static").attr("x",450).attr("y",125).style("text-anchor","middle").text("seats");const n=i.append("g");n.append("text").attr("class","display-data-dem display-votes").attr("id","dVotesDisplay").attr("width",300).attr("x",225).attr("y",60).style("text-anchor","middle").style("fill",ni.b.dColor).style("stroke","none").text("0"),n.select("text").transition().ease(d.h).duration(2500).tween("text",(t,i,n)=>{const a=Object(je.a)(n[i]),r=Le(a.text(),this.flipService.stateData.dVotes);return t=>a.text(e(r(t)))});var a=i.append("g");a.append("text").attr("class","display-data-rep display-votes").attr("id","rVotesDisplay").attr("width",300).attr("x",675).attr("y",60).style("text-anchor","middle").style("fill",ni.b.rColor).style("stroke","none").text("0"),a.select("text").transition().ease(d.h).duration(2500).tween("text",(t,i,n)=>{const a=Object(je.a)(n[i]),r=Le(a.text(),this.flipService.stateData.rVotes);return t=>a.text(e(r(t)))});const r=i.append("g");r.append("text").attr("class","display-data-dem display-districts").attr("id","dDistrictsDisplay").attr("x",225).attr("y",125).style("text-anchor","middle").style("fill",ni.b.dColor).text(""),r.select("text").transition().duration(2500).tween("text",(t,i,n)=>{const a=Object(je.a)(n[i]),r=Le(a.text(),this.flipService.stateData.dDistricts);return t=>a.text(e(r(t)))});const o=i.append("g");o.append("text").attr("class","display-data-rep display-districts").attr("id","rDistrictsDisplay").attr("x",675).attr("y",125).style("text-anchor","middle").style("fill",ni.b.rColor).text(""),o.select("text").transition().duration(2500).tween("text",(t,i,n)=>{const a=Object(je.a)(n[i]),r=Le(a.text(),this.flipService.stateData.rDistricts);return t=>a.text(e(r(t)))})}makeBars(t){const e=Object.keys(this.flipService.districtsData).length*(11+ni.a.width+11)+60,i=ni.a.height+50,n=t.append("svg").attr("class","container").attr("width",e).attr("height",i);n.append("line").attr("class","bars-line").attr("x1",0).attr("x2",e).attr("y1",25+ni.a.height/2).attr("y2",25+ni.a.height/2).style("stroke","#909090").style("stroke-width","2px").style("stroke-dasharray","2,2").style("stroke-linecap","butt"),n.append("text").attr("class","bars-line-label").attr("x",872).attr("y",25+ni.a.height/2+12).style("text-anchor","right").text("50% of"),n.append("text").attr("class","bars-line-label").attr("x",880).attr("y",25+ni.a.height/2+22).style("text-anchor","right").text("votes"),n.append("text").attr("class","district-bars-label").attr("x",e/2).attr("y",20).style("text-anchor","middle").text("pa congressional districts"),n.append("text").attr("class","district-bars-instructions").attr("x",e/2).attr("y",250).style("text-anchor","middle").text("drag the bars to change the vote"),n.selectAll("svg").data(this.flipService.flipData).enter().append("svg").attr("width",ni.a.width+11+11).attr("height",ni.a.height+0+0).attr("x",function(t,e){return 30+e*(ni.a.width+11+11)}).attr("y",25).append("g").attr("transform","translate(11,0)").each(this.makeBar.bind(this))}makeLowerVis(t){const e=t.append("svg").attr("class","container").attr("width",900).attr("height",350);e.append("text").attr("class","display-label").attr("x",525).attr("y",65).style("text-anchor","right").text("statewide votes: 5,757,009"),e.append("text").attr("class","display-label").attr("x",860-500/9).attr("y",65).style("text-anchor","right").text("seats: 18");const i=e.append("g").attr("class","district-info-container").style("opacity",0);i.append("text").attr("class","district-info district-name"),i.append("text").attr("class","district-info year").text("2016 votes:").style("text-anchor","start"),i.append("text").attr("class","district-info total-votes").style("text-anchor","end"),i.append("text").attr("class","district-info cand-name dem"),i.append("text").attr("class","district-info cand-votes dem").style("text-anchor","end"),i.append("text").attr("class","district-info cand-name rep"),i.append("text").attr("class","district-info cand-votes rep").style("text-anchor","end"),i.append("text").attr("class","district-info cand-name oth"),i.append("text").attr("class","district-info cand-votes oth").style("text-anchor","end"),this.makeMap(e),this.makeStateVotes(e),this.makeCongressSeats(e)}makeMap(t){const e=t.append("svg").attr("class","map-svg").attr("width",475).attr("height",300).attr("x",50).attr("y",15),i=Et().scale(6e3).rotate([77.1945,0]).center([0,41.2033]).translate([237.5,150]),n=Se().projection(i),a=Ve(this.flipService.flipTopojson,this.flipService.flipTopojson.objects.districts).features;e.append("g").selectAll("path").data(a).enter().append("path").attr("class","district-boundary").attr("d",n).attr("district",t=>+t.properties.CD114FP).attr("winner",t=>this.flipService.getDistrictWinner(this.flipService.districtsData[+t.properties.CD114FP])).style("fill",ni.b.initialColor).on("mouseover",this.handleMapMouseOver.bind(this)).on("mouseout",this.handleMapMouseOut.bind(this)).transition().delay(t=>300+70*+t.properties.CD114FP).duration(420).style("fill",(t,e,i)=>i[e].getAttribute("winner")==ai.b.D?ni.b.dMapColor:i[e].getAttribute("winner")==ai.b.R?ni.b.rColor:ni.b.oColor)}handleMapMouseOver(t,e){const i=+e.properties.CD114FP,n=document.getElementById(this.divId.replace("#",""));this.flipService.showDistrictInfo(this.flipService.districtsData[i],n),Object(je.a)(n).selectAll("g.bar").filter((t,e,n)=>+n[e].getAttribute("district")!==i).selectAll("rect").style("opacity",.3)}handleMapMouseOut(t,e){const i=+e.properties.CD114FP,n=document.getElementById(this.divId.replace("#",""));this.flipService.hideDistrictInfo(this.flipService.districtsData[i],n),Object(je.a)(n).filter((t,e,n)=>+n[e].getAttribute("district")!==i).selectAll("rect").style("opacity",1)}makeStateVotes(t){const e=t.append("svg").attr("width",250).attr("height",250).attr("x",525).attr("y",70).append("g"),i=50*this.flipService.stateData.dPercent*50,n=50*(this.flipService.stateData.dPercent+this.flipService.stateData.oPercent)*50;e.selectAll(".grid-square").data(Object(Pe.a)(2500)).enter().append("rect").attr("class","grid-square").attr("width",4.6).attr("height",4.6).attr("cellnum",(t,e)=>2500-e).attr("x",(t,e)=>e%50*5).attr("y",(t,e)=>5*Math.floor(e/50)).style("fill",ni.b.initialColor).style("stroke","ffffff").style("stroke-width",.4).style("stroke-linecap","butt").attr("squareColor",function(){return this.getAttribute("cellnum")<=i?ni.b.dColor:this.getAttribute("cellnum")>i&&this.getAttribute("cellnum")<=n?ni.b.oColor:ni.b.rColor}).transition().delay((t,e,i)=>i[e].getAttribute("squareColor")==ni.b.dColor?0+2.8*i[e].getAttribute("cellnum"):i[e].getAttribute("squareColor")==ni.b.oColor?n<1250?0+2.8*(2500-i[e].getAttribute("cellnum")+1)+280:0+2.8*(i[e].getAttribute("cellnum")+1)+280:i[e].getAttribute("squareColor")==ni.b.rColor?0+2.8*(2500-i[e].getAttribute("cellnum")+1):void 0).style("fill",(t,e,i)=>i[e].getAttribute("squareColor"))}makeCongressSeats(t){const e=9*(this.flipService.stateData.dPercent+this.flipService.stateData.oPercent)*2;t.append("svg").attr("width",55.55555555555556).attr("height",250).attr("x",804.4444444444445).attr("y",70).append("g").selectAll(".congress-square").data(Object(Pe.a)(this.flipService.flipData.length)).enter().append("rect").attr("class","congress-square").attr("width",26.77777777777778).attr("height",26.77777777777778).attr("cellnum",(t,e,i)=>18-e).attr("x",(t,e,i)=>e%2*27.77777777777778).attr("y",(t,e,i)=>27.77777777777778*Math.floor(e/2)).style("fill",ni.b.initialColor).style("stroke","ffffff").style("stroke-width",1).style("stroke-linecap","butt").attr("squareColor",(t,e,i)=>this.flipService.getCongressSquareColor(i[e])).transition().delay((t,i,n)=>{const a=this.flipService.getCongressSquareColor(n[i]);return a==ni.b.dColor?0+200*n[i].getAttribute("cellnum"):a==ni.b.oColor?e<9?0+200*(18-n[i].getAttribute("cellnum")+1)+2e4:0+200*(n[i].getAttribute("cellnum")+1)+2e4:a==ni.b.rColor?0+200*(18-n[i].getAttribute("cellnum")+1):void 0}).style("fill",(t,e,i)=>this.flipService.getCongressSquareColor(i[e]))}makeBar(t,e,i){const n=document.getElementById(this.divId.replace("#",""));new ri(t,i[e],n,this.flipService)}resetVis(){Object(je.a)(this.divId).selectAll("svg").remove(),this.flipService.setFlipData(),this.makeVis()}}return t.\u0275fac=function(e){return new(e||t)(s.Eb(oi.a))},t.\u0275cmp=s.yb({type:t,selectors:[["app-flip"]],decls:22,vars:0,consts:[["id","flip-intro",1,"flip-intro"],[1,"project-description"],["id","flip-the-district",1,"flip-div"],["id","flip-start-container",1,"start-container",2,"background-image","url('assets/flipthedistrict/background_text_big.png')"],[1,"flip-text"],["role","button","aria-labelledby","load-text",1,"start-button-container",3,"click"],[1,"drag-text"],[1,"enter-button"],["id","load-text",1,"load-text"]],template:function(t,e){1&t&&(s.Kb(0,"div",0),s.Kb(1,"p",1),s.fc(2," Most people are familiar with the potential for disparity between the popular and electoral vote in U.S. Presidential elections. But we hear less about similar misrepresentation in Congress, where the share of seats a party wins in the House of Representatives frequently does not match the share of votes that that party received, either within a state or at the national level. "),s.Jb(),s.Kb(3,"p",1),s.fc(4," Using data from the Pennsylvania 2016 U.S. Congressional elections, this visualization / interface helps people gain insight into how winner-takes-all electoral systems can create imbalances between the number of votes cast and number of seats awarded. Users can interact with a series of bars that visualize the proportion of votes won by each party in each of Pennsylvania/'s eighteen Congressional districts. "),s.Jb(),s.Kb(5,"p",1),s.fc(6," By dragging up or down on these bars, users can play out different scenarios with either more or less equitable representation. "),s.Jb(),s.Kb(7,"p",1),s.fc(8," Displaying the same data in a variety of visualizations, in which pixels on the screen represent different concepts (individual votes, geographic area, or a portion of a congressional district), this project also aims to illustrate how representational choices construct our understanding of data, facts, and reality. "),s.Jb(),s.Kb(9,"p",1),s.fc(10,"[Spring 2017]"),s.Jb(),s.Jb(),s.Kb(11,"div",2),s.Kb(12,"div",3),s.Kb(13,"p",4),s.fc(14,"Flip the District"),s.Jb(),s.Kb(15,"div",5),s.Qb("click",function(){return e.initVis()}),s.Kb(16,"p",6),s.fc(17,"drag the bars \u2014 change the vote"),s.Jb(),s.Kb(18,"div",7),s.fc(19,"let's go"),s.Jb(),s.Kb(20,"p",8),s.fc(21,"click to load visualization"),s.Jb(),s.Jb(),s.Jb(),s.Jb())},styles:['.flip-intro p{font-variant-ligatures:common-ligatures;font-feature-settings:"liga","clig";font-family:ff-tisa-sans-web-pro,sans-serif;font-weight:400;font-style:normal}.flip-div,.flip-intro{display:flex;flex-direction:column}.flip-intro{max-width:740px;margin:0 auto}.flip-intro p{padding-top:1rem;text-align:justify;color:rgba(37,39,77,.85)}.flip-intro p:last-of-type{padding-bottom:1rem}.flip-div{background:#fff;font-family:Roboto;align-items:center;padding-bottom:64px}.flip-div .start-container{width:660px;height:400px;margin-top:24px}.flip-div .flip-text{padding:100px 0 18px;text-align:center;font-family:Roboto Mono;font-size:42px;color:#fff;opacity:1;-webkit-animation:color-flash .5s ease-in-out infinite;animation:color-flash .5s ease-in-out infinite}@-webkit-keyframes color-flash{0%{color:#f4003d}50%{color:#ccc}to{color:#2437ff}}@keyframes color-flash{0%{color:#f4003d}50%{color:#ccc}to{color:#2437ff}}.flip-div .start-button-container{margin:0 auto;display:flex;flex-direction:column;align-items:center;opacity:1;background:#ccc;width:360px}.flip-div .drag-text{padding:8px 0;color:#fff;font-family:Roboto Mono;font-size:18px}.flip-div .load-text{color:#fff;font-family:Roboto Mono;font-size:14px;margin-bottom:12px}.flip-div .enter-button{padding:4px 16px;border:2px solid #fff;text-align:center;background:#bbb;color:#fff;font:500 18px Roboto Mono;text-transform:uppercase;margin-bottom:6px;cursor:pointer}.flip-div .enter-button:hover{background:#aaa;font-weight:700}.flip-div .enter-button:active{background:#999}.flip-div .reset-button{background:#bbb;font:12px Roboto Mono;text-transform:uppercase;color:#fff;font-weight:400;text-align:center;padding:4px 16px;cursor:pointer}.flip-div .reset-button:hover{background:#aaa;font-weight:700}.flip-div .reset-button:active{background:#999}.flip-div .active-drag{stroke-linecap:butt}.flip-div .active-drag-others{opacity:.3}.flip-div .district-boundary{stroke:#fff;stroke-width:1;stroke-linecap:round}.flip-div .active-mouseover{stroke:#fff;stroke-width:3px;opacity:.4;stroke-linecap:butt}.flip-div .bars-line-label{font:10px Roboto}.flip-div .district-info{font:10.5px Roboto;font-weight:400}.flip-div .district-info.district-name{font:11px Roboto;font-weight:700}.flip-div .district-info.year{font:10px Roboto;font-weight:400}.flip-div .dem{fill:#2437ff}.flip-div .rep{fill:#f4003d}.flip-div .oth{fill:#f6b500}.flip-div .display-data-dem{font:700 48px Roboto;fill:#2437ff;stroke:none}.flip-div .display-data-rep{font:700 48px Roboto;fill:#f4003d}.flip-div .display-label{font:10.5px Roboto Mono}.flip-div .district-bars-label{font:14px Roboto Mono;letter-spacing:1.2rem;text-transform:uppercase;font-weight:500}.flip-div .district-bars-instructions{font:14px Roboto Mono;letter-spacing:.6rem;text-transform:uppercase;font-weight:500}.flip-div .display-static{font:36px Roboto Mono;font-weight:500}.flip-div .display-votes{font-weight:900}'],encapsulation:2}),t})();var li=i("y5NY"),ci=i("5PZe");const di=[{path:"",component:(()=>{class t{constructor(t){this.router=t}ngOnInit(){this.setProject()}setProject(){this.project=li.a.find(t=>t.routerLink===this.router.url)}}return t.\u0275fac=function(e){return new(e||t)(s.Eb(r.a))},t.\u0275cmp=s.yb({type:t,selectors:[["app-project"]],decls:3,vars:1,consts:[["id","project-navbar",1,"project-navbar",3,"title"],["id","project-container",1,"project-container"]],template:function(t,e){1&t&&(s.Fb(0,"app-content-navbar",0),s.Kb(1,"div",1),s.Fb(2,"router-outlet"),s.Jb()),2&t&&s.Ub("title",e.project.title)},directives:[ci.a,r.d],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:300px;overflow-y:auto}.project-navbar[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0}.project-container[_ngcontent-%COMP%]{height:calc(100% - 64px)}"]}),t})(),children:[{path:o.c,component:si},{path:o.a,component:Ne,resolve:{data:c}},{path:"**",redirectTo:"/landing",pathMatch:"full"}]}];let ui=(()=>{class t{}return t.\u0275mod=s.Cb({type:t}),t.\u0275inj=s.Bb({factory:function(e){return new(e||t)},imports:[[r.c.forChild(di),n.b],r.c]}),t})(),hi=(()=>{class t{}return t.\u0275mod=s.Cb({type:t}),t.\u0275inj=s.Bb({factory:function(e){return new(e||t)},providers:[],imports:[[n.b,ui,a.a]]}),t})()},"gj+k":function(t,e,i){"use strict";function n(t,e){let i;if(void 0===e)for(const n of t)null!=n&&(i<n||void 0===i&&n>=n)&&(i=n);else{let n=-1;for(let a of t)null!=(a=e(a,++n,t))&&(i<a||void 0===i&&a>=a)&&(i=a)}return i}i.d(e,"a",function(){return n})},mrVq:function(t,e,i){"use strict";function n(t,e){let i;if(void 0===e)for(const n of t)null!=n&&(i>n||void 0===i&&n>=n)&&(i=n);else{let n=-1;for(let a of t)null!=(a=e(a,++n,t))&&(i>a||void 0===i&&a>=a)&&(i=a)}return i}i.d(e,"a",function(){return n})},xOP2:function(t,e,i){"use strict";i.d(e,"a",function(){return n});class n{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let i=0;for(let n=0;n<this._n&&n<32;n++){const a=e[n],r=t+a,o=Math.abs(t)<Math.abs(a)?t-(r-a):a-(r-t);o&&(e[i++]=o),t=r}return e[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let e,i,n,a=this._n,r=0;if(a>0){for(r=t[--a];a>0&&(e=r,i=t[--a],r=e+i,n=i-(r-e),!n););a>0&&(n<0&&t[a-1]<0||n>0&&t[a-1]>0)&&(i=2*n,e=r+i,i==e-r&&(r=e))}return r}}}}]);